(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{start:()=>S,stop:()=>M});var n={};t.r(n),t.d(n,{start:()=>H,stop:()=>F});var r={};t.r(r),t.d(r,{start:()=>A,stop:()=>I});var o={};t.r(o),t.d(o,{start:()=>B,stop:()=>K});var a,i,u,c,s,l,d,h=function(t,e){return Math.random()*(e-t)+t},f=function(t,e){return Math.floor(h(t,e))},y=function(t,e,n){var r=t.getContext("2d"),o=0,a=0,i=[],u=function(){a=function(t){for(var e=performance.now();t.length>0&&t[0]<=e-1e3;)t.shift();return t.push(e),t.length}(i),n({canvas:t,ctx:r,animationMultiplier:60/a}),o=window.requestAnimationFrame(u)};return t.width=window.innerWidth,t.height=window.innerHeight,e(t),o=window.requestAnimationFrame(u),window.addEventListener("resize",(function(){t.width=window.innerWidth,t.height=window.innerHeight,e(t)})),function(){window.cancelAnimationFrame(o),r.clearRect(0,0,t.width,t.height)}},p=300,g=300,v=document.querySelector("#rain-canvas"),b=[],m=[],w=function(t,e){this.l=f(1,830),this.opacity=h(0,.2),this.xs=h(-2,2),this.ys=h(10,20),this.x=f(0,t),this.y=f(0,e)},k=function(t,e){this.l=h(0,1),this.xs=h(-2,2),this.ys=h(10,20),this.x=f(0,t),this.y=f(0,e)},C=function(t){!function(t){for(var e=t.canvas,n=t.animationMultiplier,r=e.width,o=e.height,a=0,i=b;a<i.length;a++){var u=i[a];u.x+=u.xs*n,u.y+=u.ys*n,(u.x>r||u.y>o)&&(u.x=f(0,r),u.y=-20)}for(var c=0,s=m;c<s.length;c++){var l=s[c];l.y+=25*n,l.y>=o&&(l.y=o-l.y-5*l.l)}}(t),function(t){var e=t.ctx,n=t.canvas,r=n.width,o=n.height;e.clearRect(0,0,r,o);for(var a=0,i=b;a<i.length;a++){var u=i[a];e.beginPath(),e.moveTo(u.x,u.y),e.lineTo(u.x+u.l*u.xs,u.y+u.l*u.ys),e.strokeStyle="rgba(174,194,224,0.5)",e.lineWidth=2,e.lineCap="round",e.stroke()}for(var c=0,s=m;c<s.length;c++){var l=s[c];e.beginPath();var d=e.createLinearGradient(0,l.y,0,l.y+l.l);d.addColorStop(0,"rgba(255,255,255,0)"),d.addColorStop(1,"rgba(255,255,255,"+l.opacity+")"),e.fillStyle=d,e.fillRect(l.x,l.y,1,l.l),e.fill()}}(t)},x=function(t){for(var e=t.width,n=t.height,r=0;r<p;r+=1)b[r]=new k(e,n);for(r=0;r<g;r+=1)m[r]=new w(e,n)},S=function(t){p=t.dropletsCount,g=t.troughsCount,v.style.backgroundColor="rgba(0, 0, 0, 0.4)",a=y(v,x,C)},M=function(){a&&a(),v.style.backgroundColor="transparent"},T=document.querySelector("#lightning-canvas"),L=function(t,e){this.bolts=[],this.frames=0,this.maxFrames=f(500,700);for(var n=f(2,5),r=f(100,t-100),o=f(0,e/4),a=0;a<n;a+=1){for(var i=f(40,65),u=f(5,30),c=f(10,35),s=[{x:r,y:o}],l=0;l<i-1;l+=1){var d=s[s.length-1];s.push({x:d.x+f(-u/2,u/2),y:d.y+f(0,c)})}s.shift(),this.bolts.push({id:Date.now(),x:r,y:o,path:s,stage:1,done:!1})}},q=function(t){!function(t){for(var e=t.canvas,n=t.animationMultiplier,r=e.width,o=e.height,a=function(t){var e=i.bolts[t];if(e.done)return"continue";e.stage=Math.min(e.stage+1*n,e.path.length),e.stage>=e.path.length&&(e.done=!0,setTimeout((function(){i.bolts=i.bolts.filter((function(t){return t.id!==e.id}))}),200))},u=0;u<i.bolts.length;u+=1)a(u);i.frames+=1*n,i.frames>=i.maxFrames&&(i=new L(r,o))}(t),function(t){var e=t.ctx,n=t.canvas,r=n.width,o=n.height;e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, "+f(1,30)/100+")",e.fillRect(0,0,r,o),e.globalCompositeOperation="source-over";for(var a=0,u=i.bolts;a<u.length;a++){var c=u[a];e.strokeStyle="rgba(255, 255, 255, .15)",e.lineWidth=3,0===f(0,15)&&(e.lineWidth=6),0===f(0,30)&&(e.lineWidth=8),e.beginPath(),e.moveTo(c.x,c.y);for(var s=0;s<c.stage;s+=1){var l=c.path[s],d=l.x,h=l.y;e.lineTo(d,h)}e.lineJoin="miter",e.stroke()}}(t)},P=function(t){var e=t.width,n=t.height;i=new L(e,n),t.style.animation="thunder 6s infinite"},H=function(){u=y(T,P,q)},F=function(){u&&u()},j=document.querySelector("#cloud-canvas"),O=[],D=30,E=function(t,e){this.opacity=h(.3,.8),this.length=f(30,100),this.thickness=h(2,30),this.xs=h(.5,4),this.x=f(0,t),this.y=f(0,e)},W=function(t){!function(t){for(var e=t.canvas,n=t.animationMultiplier,r=e.width,o=e.height,a=0,i=O;a<i.length;a++){var u=i[a];u.x+=u.xs*n,u.x>=r&&(u.x=-u.length,u.y=f(0,o))}}(t),function(t){var e=t.ctx,n=t.canvas,r=n.width,o=n.height;e.clearRect(0,0,r,o);for(var a=0,i=O;a<i.length;a++){var u=i[a];e.beginPath(),e.lineTo(u.x,u.y),e.lineTo(u.x+u.length,u.y),e.strokeStyle="rgba(255, 255, 255, "+u.opacity+")",e.lineWidth=u.thickness,e.lineCap="round",e.stroke()}}(t)},R=function(t){for(var e=t.width,n=t.height,r=0;r<D;r+=1)O[r]=new E(e,n)},A=function(t){D=t.count,c=y(j,R,W)},I=function(){c&&c()},_=500,J=[],z=document.querySelector("#snow-canvas"),G=0,N=function(t,e){this.r=h(1,4),this.d=h(5,50),this.x=f(0,t),this.y=f(0,e)},U=function(t){!function(t){var e=t.canvas,n=t.animationMultiplier,r=e.width,o=e.height;G+=.005*n;for(var a=0,i=J;a<i.length;a++){var u=i[a];u.y+=Math.cos(G+u.d)+1*n+u.r/4*n,u.x+=2*Math.sin(G),(u.x>r+5||u.x<-5||u.y>o)&&(f(0,10)>3?(u.x=f(0,r),u.y=-10):Math.sin(G)>0?(u.x=-5,u.y=f(0,o)):(u.x=r+5,u.y=f(0,o)))}}(t),function(t){var e=t.ctx,n=t.canvas,r=n.width,o=n.height;e.clearRect(0,0,r,o),e.fillStyle="rgba(255, 255, 255, 0.8)";for(var a=0,i=J;a<i.length;a++){var u=i[a],c=u.x,s=u.y,l=u.r;e.beginPath(),e.moveTo(c,s),e.arc(c,s,l,0,2*Math.PI,!0),e.fill()}}(t)},Y=function(t){for(var e=t.width,n=t.height,r=0;r<_;r+=1)J[r]=new N(e,n)},B=function(t){_=t.particlesCount,s=y(z,Y,U)},K=function(){s&&s()},Q=function(t){t.classList.remove("display-block"),t.classList.add("display-none")},V=function(t){t.classList.remove("display-none"),t.classList.add("display-block")},X=document.querySelector("#form"),Z=X.querySelector(".error"),$=X.querySelector("#location"),tt=document.querySelector("#data"),et=document.querySelector(".search-icon"),nt=document.querySelector(".header .icon"),rt=document.querySelector("#unit-switch"),ot=function(t){Z.innerHTML=t},at=function(t){"light"===t?document.body.classList.remove("dark"):document.body.classList.add("dark")},it=function(){return rt.checked?"imperial":"metric"},ut=function(){nt.classList.remove("loading"),$.disabled=!1},ct=function(t,e){var n=document.createElement(t);return n.innerHTML=e,n},st={darkClouds:"img/thunder-clouds.jpg",cloudySky:"img/sky-day.jpg",dustySky:"img/dusty-sky.jpg",mistySky:"img/misty-sky.jpg"},lt=function(t){document.body.style.backgroundImage="url("+st[t]+")"},dt=function(t){[e,n,r,o].forEach((function(t){return t.stop()})),void 0!==t?t<300?function(t){switch(lt("darkClouds"),at("dark"),H(),t){case 200:case 230:S({troughsCount:20,dropletsCount:100});break;case 201:case 231:S({troughsCount:80,dropletsCount:300});break;case 202:case 232:S({troughsCount:200,dropletsCount:500});break;default:S({troughsCount:30,dropletsCount:150})}}(t):t<400?function(t){switch(lt("darkClouds"),at("dark"),t){case 300:case 310:S({troughsCount:0,dropletsCount:70});break;case 301:case 311:S({troughsCount:0,dropletsCount:150});break;case 302:case 312:S({troughsCount:20,dropletsCount:100});break;case 314:S({troughsCount:50,dropletsCount:200});break;default:S({troughsCount:10,dropletsCount:150})}}(t):t<600?function(t){switch(lt("darkClouds"),at("dark"),t){case 500:case 520:S({troughsCount:10,dropletsCount:100});break;case 501:S({troughsCount:30,dropletsCount:150});break;case 502:case 503:S({troughsCount:50,dropletsCount:300});break;case 504:S({troughsCount:50,dropletsCount:400});break;case 511:S({troughsCount:100,dropletsCount:500});break;default:S({troughsCount:50,dropletsCount:300})}}(t):t<700?function(t){switch(lt("darkClouds"),at("dark"),t){case 600:case 611:B({particlesCount:150});break;case 601:B({particlesCount:320});break;case 602:B({particlesCount:450});break;case 612:case 613:B({particlesCount:150}),S({troughsCount:10,dropletsCount:50});break;case 615:case 616:B({particlesCount:150}),S({troughsCount:10,dropletsCount:100});break;case 620:case 621:B({particlesCount:350}),S({troughsCount:30,dropletsCount:100});break;case 622:B({particlesCount:500}),S({troughsCount:30,dropletsCount:200});break;default:B({particlesCount:50})}}(t):t>801?function(t){switch(at("light"),lt("cloudySky"),t){case 801:A({count:10});break;case 802:A({count:20});break;case 803:A({count:30});break;case 804:A({count:40});break;default:A({count:15})}}(t):function(t){switch(t){case 701:case 711:case 721:case 741:at("light"),lt("mistySky");break;case 731:case 751:case 761:case 762:at("dark"),lt("dustySky");break;default:at("light"),lt("cloudySky")}}(t):dt(f(300,900))},ht=function(t,e){return n=void 0,r=void 0,a=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return[4,fetch("http://api.openweathermap.org/data/2.5/weather?"+new URLSearchParams({appid:"1e5b60249223eb25245ce5722c4fdc18",units:e,q:t}))];case 1:return[2,n.sent().json()]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{c(a.next(t))}catch(t){e(t)}}function u(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,u)}c((a=a.apply(n,r||[])).next())}));var n,r,o,a},ft=window.localStorage.getItem("location"),yt=window.localStorage.getItem("unit")||"metric",pt=!1;function gt(t){return e=this,n=void 0,o=function(){var e,n,r;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){switch(o.label){case 0:if(pt)return[2];nt.classList.add("loading"),$.disabled=!0,Z.innerHTML="",pt=!0,e=it(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,ht(t,e)];case 2:return n=o.sent(),pt=!1,ut(),"404"===n.cod?(ot("Country/City was not found."),[2]):(window.localStorage.setItem("location",t),ft=t,dt(n.weather[0].id),function(t,e){var n,r,o,a,i,u,c,s=tt.querySelector(".location"),l=tt.querySelector(".date"),d=tt.querySelector(".desc"),h=tt.querySelector(".temperature-number"),f=tt.querySelector(".temperature-unit"),y=tt.querySelector(".extra");s.innerHTML=t.name,l.innerHTML=(n=t.timezone,u=(i=new Date).getTime()+6e4*i.getTimezoneOffset(),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(c=new Date(u+1e3*n)).getDay()]+", "+c.getDate()+"<sup>"+(a=(r=c.getDate())%100,(1==(o=r%10)&&11!==a?"st":2===o&&12!==a?"nd":3===o&&13!==a?"rd":"th")+"</sup> of ")+["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()]+" "+c.getFullYear()),h.innerHTML=Math.round(t.main.temp).toString(),d.innerHTML=t.weather[0].description,f.innerHTML=function(t){return"imperial"===t?"F":"C"}(e),y.innerHTML="",y.appendChild(ct("div","Feels like")),y.appendChild(ct("div",Math.round(t.main.feels_like).toString())),y.appendChild(ct("div","Humidity")),y.appendChild(ct("div",t.main.humidity+"%")),y.appendChild(ct("div","Min")),y.appendChild(ct("div",Math.round(t.main.temp_min).toString())),y.appendChild(ct("div","Max")),y.appendChild(ct("div",Math.round(t.main.temp_max).toString()))}(n,e),Q(X),V(tt),[3,4]);case 3:return r=o.sent(),ut(),pt=!1,ot("Network error."),console.log(r),[3,4];case 4:return[2]}}))},new((r=void 0)||(r=Promise))((function(t,a){function i(t){try{c(o.next(t))}catch(t){a(t)}}function u(t){try{c(o.throw(t))}catch(t){a(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(i,u)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o}"imperial"===yt&&(rt.checked=!0),dt(),ft?gt(ft).catch(console.log):(at("dark"),V(X)),l=function(t){return gt(t).catch(console.log)},X.addEventListener("submit",(function(t){t.preventDefault(),l($.value)})),d=function(t){yt=t,ft&&gt(ft)},rt.addEventListener("change",(function(t){d(it())})),et.addEventListener("click",(function(){Q(tt),V(X),ft=null}))})();
//# sourceMappingURL=0893e2742e00443a703b_bundle.js.map